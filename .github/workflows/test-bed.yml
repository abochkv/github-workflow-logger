name: CLI Test Bed
on:
  workflow_dispatch: # Allows you to trigger it manually from the UI
    inputs:
      should_fail:
        description: 'Set to true to test failure logging'
        required: true
        default: 'false'

jobs:
  long-running-job:
    runs-on: ubuntu-latest
    steps:
      - name: "Step 1: Setup"
        run: sleep 5
      - name: "Step 2: Work"
        run: sleep 15
      - name: "Step 3: Finalize"
        run: echo "Done!"

  very-long-running-job:
    runs-on: ubuntu-latest
    steps:
      - name: "Step 1: Setup"
        run: sleep 15
      - name: "Step 2: Work"
        run: sleep 60
      - name: "Step 3: Finalize"
        run: echo "Done!"

  conditional-failure:
    runs-on: ubuntu-latest
    steps:
      - name: Check Input
        run: |
          if [ "${{ github.event.inputs.should_fail }}" == "true" ]; then
            echo "Simulating failure..."
            exit 1
          else
            echo "Success!"
          fi